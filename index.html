<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Review Polisher MVP</title>
  <style>
    body { font-family: Arial; max-width: 600px; margin: 2em auto; }
    textarea { width: 100%; height: 100px; }
    button { margin-top: 10px; padding: 0.5em 1em; }
    #output { margin-top: 20px; white-space: pre-wrap; }
  </style>
</head>
<body>
  <h2>AI Review Polisher MVP</h2>
  <p>Enter your real review below. Our AI will polish it without exaggerating. It preserves your intent and authenticity.</p>

  <textarea id="reviewInput" placeholder="Write your review here..."></textarea>
  <br>
  <label>
    <input type="checkbox" id="confirmCheckbox"> I confirm this is my real experience
  </label>
  <br>
  <button id="submitBtn">Generate Polished Review</button>

  <div id="output"></div>

  <script>
    const submitBtn = document.getElementById('submitBtn')
    const reviewInput = document.getElementById('reviewInput')
    const confirmCheckbox = document.getElementById('confirmCheckbox')
    const outputDiv = document.getElementById('output')
    const API_URL = 'https://ai-review.mia-zhengluyao.workers.dev/'

    submitBtn.addEventListener('click', async () => {
      outputDiv.textContent = ''

      if (!confirmCheckbox.checked) {
        alert('Please confirm this is your real experience.')
        return
      }

      const reviewText = reviewInput.value.trim()
      if (!reviewText) {
        alert('Please enter a review.')
        return
      }

      try {
        const res = await fetch(API_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ review: reviewText })
        })
        const data = await res.json()
        outputDiv.textContent = `Short version:\n${data.short}\n\nMedium version:\n${data.medium}\n\nLong version:\n${data.long}`
      } catch (err) {
        outputDiv.textContent = `Error: ${err.message}`
      }
    })
  </script>
</body>
</html>
